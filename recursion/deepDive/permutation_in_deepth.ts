// for visualization of this code see here: https://mermaid.live/view#pako:eNqVmttu20YQhl-FYBG4ARTXluSDhCaAzmdREmWdql7wFFuALRk0hTYNctm-QG_7dHmSkrvL1c6OyM32wk2yO8N_h7PzzTD5anoHPzCr5mPovD4Z8-Z2b8T_1X7bmq9B-HKMnGh32P984bief_H-Vzf85dP3f_4l_6frbKlgXFy835q_Gx8-fDLq3FpcJUZvUXj5HOwfoyfjo1EmfzQ8HF6NXfzbq8J1oVgoxV6oCPqzTlw2Ype7j1dVIwxePl4kPoEG9hCHaBDtmsTumtk5sp1D7VyqHTyxRSyLqaUrW7rE0kNPbBO7ErfzZDsvsfMFO_rz3TujHjp778moVQ07csJot380_tjFkYrPRfc0yBM6QnhPB8fhLZ0JL39oh7jqgrDK0WG-XUErNeuBqMqhoZFxPGTWByGVI0MD4-DIdInxQDj1SRg-dRGdmrsbEEdDcGZJO3MsaqdWI3BkSTpV7mLpQ2I7FqSfHoClX0vSubMxcWMB4VAB8yoqsIjRJDb6_t_fxiTc7aMq2ySpHJGdUzHA_EAaKqfEzUyp0hejOyNGNlIZb5JU9sjOuZj8PNG00mBOHD2o08ATM59aLWDmSxlMrXAaPBDbJUoDz9UK8JK4WakC7IFEXBGjtRzgZJOkckF2bsQA8wNpqNwQN7WaUqYvhrdWo-ioI6HxNklonyKhAepgWjy0UqFBK2qzCevgudsN1DK7VkudDiDb6c9mk5KijW6cr5cQ7TYFQkcVax9UtA4r_l051sk2SWurRSt-D6WFr1fDevT-9vtKreDa9enLHgyQVg_lxQmhdYRQlyGUhn44FFsU3gRoMnRIy_to9AMUdcXehBmOx7A7kVsMauhhQ8uCzYncY5BkOoOjEa30kwliqeto3pzJhEJjqiyjLugEmN1spuSpe6YVmFLG2LZcSl1HLxttm9JkrshGF5bzOWPHg5SNZJukdUbRtljIt9x19Arqghbm5VKpFdSaJcPFCmnFbB3TDmO9Fq8FTz-txFivKUY26sTwxDvB7GoMHPxSSKlNDXFmbDaMH3WUGp6jFe7YBeNLQxVwD6Rog9OkKYc82SgJrjHitQhE8Pk0FLdYkW6320rFvhjzNgdIBymON0qKLYthowuKZ1prtLIkdsK40lOi1wWaU8s-I0luopyBb4-BaDAYoIvp62VK7ILRZKiKu-_AMp6SYyTHPdkotzuMgePxGGWKJoTH7KJblqVUDG6nxV7-ZDJBij0nG8QNBGKPgbjF-DEFHwvSoVqTxFMGhtkMjh_nR1Nwsilniv0DNAa9SWo6Zxg5fSyQZ35iiovWjDHigQAFi9S6UrETBpyFsvR6YKhPLZcMMXn9rHeGygtGqBVhDX6QRoLGLhiJ1ooE9eC8vebc2UgJSjZKipcMjjWKG3xCDcm1Gp9dCHzyRYMxoi6wpoFk48HHZm1LkyIGp6ZWwiReUgS11CkDOlhu206hk1eHvTO9aCulVofSBz9M4x0kPlI4dVXvADaWXQFFPfkduJjb7RSafUogfFAN3f0-n28IjvJ1Aw4OBPoMkW5M7znrXUcUOrg2aeVO4iWF0hiW3HNFAyjntlaKodzcATeGY2yc4miC7q8mxRMfKYumqnfgOxIAOHdm8jtItqIOimHUtsEIczqo1gjDhxjlGBP7dsAYwwcZNMqQrZk8byKe-4zn7RQ-C_j1n33t1gT6YsGnHmnuOf_ZGCTYQgDSSvoLgHOTMsgwbrxOGZSP9TMt5jLFy4bSCEvVumuJF06rmrJdhinKjescT3l4h33qCXA1jqmG3DX7mognTjjGmorM9eHH-CaAVkvKXbJZ_vsjDtk2YxU-sNYnN2FoUn548-E35A7gVBepx5-0VmlD1GN4wpmrlUvEDcdXX51MoG6crAccWHm1G352PCGvz8E1RNmkSX7ihINtpHof8GPUCGBsLL8PF89iA45di9ELH1hDvWUJgxVBWb56MLlMALmmSD2ey9ZplzxjwMKlTCubiBsONFvZB8CZ8mQ95wjLzSYPdwI2p-DDgzRF8QdqvA_ihINsoXofcIxaAGgt5ffh4X5gzkG8WsHh6XRgveHpND4pBygfdvTrtTBCoSGKbMZdgR19eQ6M6CkwDsfo9RgZ-4MfvNHlN7I2MT7vnp-rP1WuWq3KlbhiZ66sM1fiSp61FHfxWUvxjc1ait921lIcyqylhEFZa0mFz1pLqk3WWnKXs9YShmetEZpmLZJ6nbVIKmfWIrmb2VHLiRsBc85r6ua8KVKGM1dJmctcJZcuL4RSEM2C-RjufLMahcegYL7EV8NJfmt-Tey2ZpzVL8HWrMa_9IPPzvE52prb_bfY7NXZbw6Hl9QyPBwfn8zqZ-f5Lf7d8dV3oqC5cx5D57Ql2PtB2Dgc95FZrVTubokTs_rV_NOsfihWiveXt3flYuW2dFe5L1eKBfNL_OelcuWycnt7d128urm_Ld_f3H0rmH-RJ5cuS3elq-L9Tbz55vr-ulwumIG_iw7hiP57HvLPer79D1j2GpE
// for call stack tracing https://mermaid.live/view#pako:eNrFWd1u4kYUfpWRqxW7EmGxjQFb3ZUIMdsoLCBwLtolF7ZnSKwaG9kmSjaK1Eptb_u3V6tKvWlfbJ-gj9AzM8bGgA00sOViZM_xOfP5m--cGQ8Pgu1jImjCdWDObpBxNvYQ_EaRGUTvxsI_f378Do2M1tDQ0IwE03n0vGRaNi6VUan04ksrePkarO0LDb3LmsF6NRau0MnJawhGZiIL9vvfaHA5-kpDXd-fIedVlUVom66bRI-Dm9uil7Me1IEOyOEvXgLGTRBIuyKIAVj_AUE5E4TF2ARKSkDJu4KKMdmHAVVejsvDbsIpJzhru-KMYeKj4SwvDRWPtAl6jUEfBI4XUel9-uNHdNoa6agNjcb7Y6AMJ7zbX2jQH2hoSKJ54KHIXx_6MzHPQSfUK5z6GB5jHvseQY6Xg3D9DZLRjyVoJUFbZ2g__IDa_Z5x3rvUtfUIC_mIC-oXssqmIZfSwZVks54c2dSTF2nsp3hsHw3niuJxTrI2UsVLBYoH962KT4b-TMxz0An1ze2KzyL8HxTfTNCqO6DNoFlHmwx-kCVPTRfdan42JiF2y0aLL0BPU7nFenL0K1ZT3OJ-y6JtHQbWSnG2c-ZeTIuzKO1VJuwnJlUR0myZsPMqnCildULOrxPUf7eV8TOSz0Gn5MuZ1NuQV4vYR9PsEphaQa4tYuyYa1wrB5eKxXrydLG0Y6KvUqlU0KeffksFga0S7-gPkGXa3-YTXTglByt1HGnKv7JHrZOK-edbjyfyz5aoPLKVlGxlA9kYvJHpYXppr_C-leIE3_bPszU-042cWLCTS2LspmeTf1HtUSeYRymv_NZT8upL5L0hHgnMiCA6NjjH0czI8b1QY0MDf7gMLGIbWtuk1zY2ocUm7cG2eVR2092l2NiD3WK1mnxp3qPKMY9SXklb2kc2ctm1N7FrQ-AyAlotaC3KLqwiwC5QTHuwdVx2Gym7zT3Ylbewy4oB3oddmvl5id9M2W3msos3sQskgkZBqMAlUEmvQcLQ2pRdKBPHZZcD1z3MqP35e6T3zjTUArgu8BiyPW8KoHPea3U5jFFEFwsynUX3mWGv2B1r6B6k1e0iqYYG-vDtpdEyzvu9EXqj9_Rhy9DPVgA9e4YuyD3yfExCFEb3ruNdc0s4t_hBVpdckxjrh19RV4dQaRT662b2mOgVamGMJnPPppRT0kKKO-siLe03wGNIpv4tSZ0mgT_d5CavqpH5hvMpQbOA3Dr-PEyCZD1rqxs08ORrxJI-si5K5tQOvUSLyUoeA15WyORTdOuEc9N13rOgyPLvSLhCKnsOmoiEnImP6EL_GrEZpa2hjzJgRpTjM10f6CMjfuq5glxyS9zwBVf1BvVl-9P1P9uffp1l-9NjlWx_eloECfcLMvqDLFQ6t62OoQ9Bu0OAS7V7bISbkVC5nFKujD4a9vtGLoyFe_xVaeJ7NPED5JG7CFmB6dk3BXPe9l141vZxmjuQSISf_KKJ47raF81GW9dPl63x2RQ3q1VdV6trZqnYLBeba8VmpdhcLzY3is3NXDPUvdjW6ZzW22KGMTExdTp6xm0k5ZvkjEkoC9eBgwUtCuakLExhsk16KzxQp7EQ3ZApGQsaXGIyMeduNBbG3iO4zUzvG9-fLjwDf359I2gT0w3hbj7DkK1njgkJnD4CaiBB2597kaDJslJnQQTtQbgTtJNGo1YRFVWRpWa9XlUlsN5DtyTJakVSG3VRrYlVuao0HsvCezZwsyKqdVWtSWJdUWs1WS4LBDuRH7zlfy2wfxge_wVvan8K
// and this: https://mermaid.live/view#pako:eNq9WMtu20YU_ZULdiEHUFTxZVlEHUCmqVixLBmSArSNA4MiRxYRiRT4sJ0GAbJouyn6QNJV0CJFNl22i677MfmCfkLvzJAUKZGyErcRYIOcmXPvuS_OnXkmWJ5NBE248M3FFEaHZy7gL4jGfKBLLohrw6Mz4Z83P38fv54Jj_ky-uuKfPIvOH04PNKgHblW6HguWOZsRuwqmLZNbAg9CELTepLHSgz75i2c9k8zUJ-Eke8GVXyYe5eInvjevAgvM_yr72A4aunHGuiR7xM3ZLr5evo_JHmUgqh3P_4JxueG_nDU6fegPzg0BhoMQ7IAN5qPiR-kEGowe1hxzciZk5njEkikXRMrYvSTmZzWEfUTUyBqkPoLFsSfR-FOxRxblSpUKnfyICkBSUUgjjFXQXICkotAHDNeBSkJSCkCcYy1ClITkEpBPI7rGHj37Us49R0MDBvIy9hNZOwWyEjJMhldz1uA5bmh40YkyItpJGIapfytNaP3EtBeGX9rvMIfB_IymomMZoGMNEI38hfraX7UCxOESVqzQFymFeZVC2s18MBza7XajQmsY5EMaY2IkJYRK5khLRm4y8tBzOnTh-I51biWtmjfTzDqn26vVdqkVVrRKp1LGa1Zr-a1JqsLOW7PTd7ETV7RJp_LGW3ZjC3iJhdbsrbqlhYomyxQVrQp50pGW7ZuiyxQiu1dW7WNncpt7VQ32anCTmsSEp8X76pu9b3ipm5lj_qB9rRn3tWhY-LLPN5sv4ZDEpoObqGZnYUuy2lsscWvX9ANcDDS1reTz8b-p_eYazR4tDb7GIXBUlpGLty9ew8OuG9_BWcfv0nGdeibFv0GVphU3JxhH6gr2Cv7ZOmtbveG7Wn5dMCU6MVKxjklpTrSsJUbinZWc5wopWpWAhPwuISlzlgeFrO0cizLSKYVdWuS1YxMLrKM9iGjbTDaP_wBB62hgaSGhoYdkV-bEfcinML-PtQZp3e_fAOng04PU4iJjQ3B3WxgjB4OerR_-3guNxj3dlIIB9jbQadXQoBtqhPHdYIp1soOxgeuzABmZhDe2WRGmp3vaUYZ6TYjfb-MdF5dnEpiaSqNS4uKtyW38P6YDmzInPvMkKNtynJjwlvj_4BkPuGtDUlzxGh3PiThrfHGhP__Xd5h3B-U5k6OQC7hP2aGP2Asj7fL8K1ZbrFVVco5HTNO3TJOeeEFVZfPZ9Oyy1I67b-3dCZdX9mQrl1G_CSpstHUCWBhhtituMsjArbxTJ1hWlN-qLV8gg1OAC65ig-4E-wZyHIVPzvDwlsE6wvSRsInQTRHMVdT4hNwQpiRSQjeZHJjp3JMnuqea5FFGPBO5fff6BgMULQfUNnJdM7wY11MYjTAU_dgSI_d-hd619AYNbEGJ-YTgsSYmEvCzd2hZyDucqmGbZxnkSAAmxB0M3K-JDM2J9dQP7Ob3RTE0P4pRyo1yol5NDZ4zdqVpNL5xcSr1zwH-O0C_268eAvdTrsPO13cYKDjVqHt-PjUj-Lthq5Yxsu07YBHgOY8tpXpGk44iO84OPHs_HqwHAyrTy4dL4pFltKX17-CqdxhSFPDT8KVjvc8mHv-agSCDM70MebhlEAlcq8c13bciwoyYjFZM2uCrSqMaf5FCwZav77JMlYY45d_c19De9A6QeL93qjV6Q2X5NMrooVJHYDVEsAOft-r1DMT53oZgq6H9OHS9B1zPEPn7TjsOunOClEaID_LP7lCIqn7Fx4eHsrqYiTyJjY9S8fDUn5Yiofl_LAcDyv5YSUeVvPDaq4gw6czgn36xJnNtE_abUM5ULMzRjzTrBtGs56d6ZTOHKbSDnZ1MTtzVDqDhR3PGbttud3Oz0kb5uQNc0puTqgKF75jC1roR6QqzPETa9JX4RlFnQmYXrQYNHy0ycSMZhiuM_c5wham-6XnzROk70UXU0GbmLMA36KFjd_S-NiVLsEAE1_3IjcUNFGSFJlJEbRnwjUONJs1UdzbE8WmJOFfU60KT3FY3a2JstpsiJLaaCq7Tel5VfiKKa7XGmpdQUyjLopKQ2qgPGI7oeef8JtXdgH7_F9Nq5ne

function permutation(str: string) {
  permut(str, "");
}

function permut(str: string, prefix: string) {
  if (str.length == 0) {
    console.log(prefix);
  } else {
    for (let i = 0; i < str.length; i++) {
      const rem = str.substring(0, i) + str.substring(i + 1);
      permut(rem, prefix + str.charAt(i));
    }
  }
}

permutation("abcd");
